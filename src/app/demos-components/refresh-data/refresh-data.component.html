<div class="refresh-data">
    <h1>jQWidgets Grid Refresh Data</h1>
    <p>
        This demo illustrates how to dynamically update and clear the Angular Grid's source.
    </p>
    <jqxTabs [theme]="'material'" [width]="'100%'">
        <ul>
            <li style="margin-left: 30px">Preview</li>
            <li>Source</li>
        </ul>
        <div style="overflow: hidden">
            <jqxGrid #myGrid
                     [theme]="'material'" [width]="'100%'" [source]="dataAdapter" [columns]="columns">
            </jqxGrid>
            <div style="height: 30px; margin-top: 8px;">
                <jqxButton style="margin-right: 5px;" [theme]="'material'" (onClick)="refreshBtnOnClick()">Refresh Data</jqxButton>
                <jqxButton [theme]="'material'" (onClick)="clearBtnOnClick()">Clear</jqxButton>
            </div>
        </div>
        <div>
            <jqxTabs [theme]="'material'" [width]="'99%'">
                <ul>
                    <li style="margin-left: 30px">app.component.ts</li>
                    <li>app.component.htm</li>
                </ul>
                <div>
                    <pre><code class="code">import {{ '{' }} Component, ViewChild } from '@angular/core';
import {{ '{' }} jqxGridComponent } from 'jqwidgets-scripts/jqwidgets-ts/angular_jqxgrid';
import {{ '{' }} generatedata } from '../sampledata/generatedata';
@Component({{ '{' }}
    selector: 'app-root',
    templateUrl: './app.component.html'
})
export class AppComponent {{ '{' }}
    @ViewChild('myGrid') myGrid: jqxGridComponent;

    source: any = {{ '{' }}
        localdata: generatedata(100, false),
        datafields:
            [
                {{ '{' }} name: 'firstname', type: 'string' },
                {{ '{' }} name: 'lastname', type: 'string' },
                {{ '{' }} name: 'productname', type: 'string' },
                {{ '{' }} name: 'quantity', type: 'number' },
                {{ '{' }} name: 'price', type: 'number' },
                {{ '{' }} name: 'total', type: 'number' }
            ],
        datatype: 'array'
    }

    dataAdapter: any = new jqx.dataAdapter(this.source);

    columns: any[] = [
        {{ '{' }} text: 'First Name', dataField: 'firstname', width: 130 },
        {{ '{' }} text: 'Last Name', dataField: 'lastname', width: 130 },
        {{ '{' }} text: 'Product', dataField: 'productname', width: 180 },
        {{ '{' }} text: 'Quantity', dataField: 'quantity', width: 80, cellsalign: 'right' },
        {{ '{' }} text: 'Unit Price', dataField: 'price', width: 90, cellsalign: 'right', cellsformat: 'c2' },
        {{ '{' }} text: 'Total', dataField: 'total', cellsalign: 'right', minwidth: 100, cellsformat: 'c2' }
    ];

    refreshBtnOnClick(): void {{ '{' }}
        this.source.localdata = generatedata(500, false);
        // passing `cells` to the `updatebounddata` method will refresh only the cells values when the new rows count is equal to the previous rows count.
        this.myGrid.updatebounddata('cells');
    }

    clearBtnOnClick(): void {{ '{' }}
        this.myGrid.clear();
    }
}
                        </code></pre>
                </div>
                <div>
                    <pre><code class="code">&lt;jqxGrid #myGrid
         [theme]="'material'" [width]="'100%'" [source]="dataAdapter" [columns]="columns">
&lt;/jqxGrid>
&lt;div style="height: 30px; margin-top: 8px;">
    &lt;jqxButton [theme]="'material'" (onClick)="refreshBtnOnClick()">Refresh Data&lt;/jqxButton>
    &lt;jqxButton [theme]="'material'" (onClick)="clearBtnOnClick()">Clear&lt;/jqxButton>
&lt;/div>
                    </code></pre>
                </div>
            </jqxTabs>
        </div>
    </jqxTabs>
</div>
